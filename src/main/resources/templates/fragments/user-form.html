<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
<div th:fragment="form">
<form th:action="@{/users/new}" th:object="${user}" method="post" id="contact_form">
    <input type="hidden" th:field="*{id}" th:value="*{id}" />
    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>First name: </label></div>
        <div class="col-lg-5">
            <input type="text" th:field="*{firstName}" class="form-control" th:errorclass="is-invalid" />
            <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="text-danger">First name Error</p>
        </div>
    </div>
    <hr>

    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>Last Name:</label></div>
        <div class="col-lg-5">
            <input type="text" th:field="*{lastName}" class="form-control" th:errorclass="is-invalid" />
            <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="text-danger">Last name Error</p>
        </div>
    </div>
    <hr>

    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>E-mail: </label></div>
        <div class="col-lg-5">
            <input th:field="*{email}" class="form-control" th:errorclass="is-invalid">
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger">E-mail Error</p>
        </div>
    </div>
    <hr>

    <div class="form-group row" th:if="*{id == null}">
        <div class="col-lg-1 col-md-offset-3"><label>Password:</label></div>
        <div class="col-lg-5">
            <input type="password" th:field="*{password}" class="form-control" />
            <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger">Password Error</p>
        </div>

    </div>
    <hr th:if="*{id == null}">
    <input type="hidden" th:field="*{password}" th:if="*{id != null}" />

    <!--<div class="form-group">-->
        <!--<label>Department: </label>-->
        <!--<select th:field="*{department}" class="form-control" th:errorclass="is-invalid">-->
            <!--<option value="" label="&#45;&#45; select department &#45;&#45;"></option>-->
            <!--<option th:each="department : ${departments}"-->
                    <!--th:value="${department.id}"-->
                    <!--th:text="${department.name}">Department select options</option>-->
        <!--</select>-->
        <!--<p th:if="${#fields.hasErrors('department')}" th:errors="*{department}" class="text-danger">Department Error</p>-->
    <!--</div>-->

    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>Roles: </label></div>
        <div class="col-lg-5">
            <select th:field="*{roles}" class="form-control" th:errorclass="is-invalid" th:multiple="multiple">
                <option th:each="role : ${roles}"
                        th:value="${role.id}"
                        th:text="${role.name}">Role select options</option>
            </select>
            <p th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}" class="text-danger">Roles Error</p>
        </div>
    </div>
    <hr>

    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>Phone: </label></div>
        <div class="col-lg-5">
            <input th:field="*{phone}" class="form-control">
            <p>Optional</p>
        </div>
    </div>
    <hr>

    <div class="form-group row">
        <div class="col-lg-1 col-md-offset-3"><label>Position: </label></div>
        <div class="col-lg-5">
            <input th:field="*{position}" class="form-control">
            <p>Optional</p>
        </div>
    </div>
    <hr>

    <div class="form-group row">
        <div class="col-lg-4 col-md-offset-3">
            <p><button type="submit" id="submit" class="btn btn-primary" ><i class="fa fa-save fa-fw"></i> Save</button> <a href="/users" class="btn btn-default" role="button">Cancel</a></p>
        </div>
    </div>

</form>
</div>
</body>
</html>